<h1>La liste des reservations</h1>
<div id="layoutSidenav_content">
	<main>
		<div class="container-fluid px-4">
			<div class="card mb-4">
				<div class="card-body">
					<table id="datatablesSimple">
						<thead>
							<tr>
								<th>Id</th>
								<th>Nom</th>
								<th>Prenom</th>
								<th>Numero de téléphone</th>
								<th>Adresse</th>
								<th>Offre</th>
								<th>Statut</th>
								<th>Actions</th>
							</tr>
						</thead>
						<tfoot>
							<tr>
								<th>Id</th>
								<th>Nom</th>
								<th>Prenom</th>
								<th>Numero de téléphone</th>
								<th>Adresse</th>
								<th>Offre</th>
								<th>Statut</th>
								<th>Actions</th>
							</tr>
						</tfoot>
						<tbody>
							{% for reservation in reservations %}
								<tr>
									<td>{{ reservation.id }}</td>
									<td>{{ reservation.client.nom }}</td>
									<td>{{ reservation.client.prenom }}</td>
									<td>{{ reservation.client.phoneNumber }}</td>
									<td>{{ reservation.client.adresse }}</td>
									<td>{{ reservation.offre.title }}</td>
									<td>{{ reservation.statut }}</td>
									<td>
										<div class="d-inline-flex">
											<a href="#" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#confirmModal{{reservation.id}}">
												<i class="fa-solid fa-pen-to-square" style="margin-right: 6px;"></i>
											</a>
										</div>
										<div class="modal fade" id="confirmModal{{reservation.id}}" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
											<div class="modal-dialog">
												<div class="modal-content">
													<div class="modal-header">
														<h5 class="modal-title" id="confirmModalLabel">Confirmation de la réservation</h5>
														<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
													</div>
													<div class="modal-body">
														<p>Voulez-vous confirmer ce voyage ?</p>
													</div>
													<div class="modal-footer">
														<a href="{{ path('app_confirm_reservation_action', {'id': reservation.id, 'action': 'confirm'}) }}" class="btn btn-primary">Confirmer</a>
														<a href="{{ path('app_confirm_reservation_action', {'id': reservation.id, 'action': 'cancel'}) }}" class="btn btn-secondary">Annuler</a>
													</div>
												</div>
											</div>
										</div>

									</td>
								</tr>
							{% else %}
								<tr>
									<td colspan="3">no records found</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</main>
</div>
